name: Offline Mode - Analog Input
version: 1
author: Brent Rubell for Adafruit Industries

steps:
  - wait-serial: '[SD] Waiting for incoming JSON string...'
  - write-serial: '{"exportVersion": "1.0.0", "exportedBy": "wokwi", "exportedAt": "2024-10-28T18:58:23.976Z", "exportedFromDevice": {"board": "metroesp32s3", "firmwareVersion": "1.0.0-beta.93", "referenceVoltage": 2.6, "totalGPIOPins": 11, "totalAnalogPins": 6}, "components": [{"componentAPI": "analogio", "name": "Analog Pin", "pinName": "D14", "type": "analog_pin", "mode": "ANALOG", "direction": "INPUT", "sampleMode": "TIMER", "analogReadMode": "raw", "period": 5, "isPin": true}], "checksum": 149}'
  - write-serial: '\n'
  - wait-serial: '[analogio] Added new pin:'
  - wait-serial: 'Pin Name: 14'
  - wait-serial: 'Period: 5000.00'
  - wait-serial: 'Read Mode: 18'
  - delay: 5s
  - wait-serial: '{"timestamp":0,"pin":"A14","value":0,"si_unit":"none"}'
  - set-control:
      part-id: pot1
      control: position
      value: 0.5
  - delay: 3s
  - wait-serial: '{"timestamp":0,"pin":"A14","value":16384,"si_unit":"none"}'